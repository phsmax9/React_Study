<!DOCTYPE html>
<html lang="en">
  <body>
    <div id="root"></div>
  </body>
  <script
    crossorigin
    src="https://unpkg.com/react@18/umd/react.development.js"
  ></script>
  <script
    crossorigin
    src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
  ></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script type="text/babel">
    const root = ReactDOM.createRoot(document.getElementById("root"));
    class H1 extends React.Component {
      constructor(props) {
        super(props);
      }

      render() {
        return <h1>Hello, {this.props.name}</h1>;
      }
    }
    // function H1(props) {
    //   return <h1>Hello, {props.name}!</h1>;
    // }

    class Tick extends React.Component {
      constructor(props) {
        // 두번째 constructor를 통해 부모 props 호출 및 state 추가
        super(props);
      }

      state = {
        date: new Date(),
      };

      componentDidMount() {
        this.timerID = setInterval(() => this.tick(), 1000);
      }

      componentWillUnmount() {
        clearInterval(this.timerID);
      }

      tick() {
        this.setState({
          date: new Date(),
        });
      }

      render() {
        return (
          <div>
            <H1 name="대한민국" />
            {/* 첫번째 수정 this.props => this.state */}
            <h2>It is {this.state.date.toLocaleTimeString()}.</h2>
          </div>
        );
      }
    }

    root.render(<Tick />);
  </script>
</html>
